<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Go语言使用日记 | B1ueDrops</title>
  <meta name="keywords" content="">
  <meta name="description" content="Go语言使用日记 | B1ueDrops">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="向阳而生, 喜欢聪明的人.">
<meta property="og:type" content="website">
<meta property="og:title" content="B1ueDrops">
<meta property="og:url" content="https://b1uedrops.github.io/about.html">
<meta property="og:site_name" content="B1ueDrops">
<meta property="og:description" content="向阳而生, 喜欢聪明的人.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-02-09T08:49:59.399Z">
<meta property="article:modified_time" content="2024-02-09T08:49:59.394Z">
<meta property="article:author" content="B1ueDrops">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpeg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.1.1"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/avatar.jpeg"/>
</a>
<div class="author">
    <span>B1ueDrops</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/B1ueDrops"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="email"
               href="mailto:bluedrops@yeah.net"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=2381446488&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(90)</small>
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="编程语言">
            
            编程语言
            <small>(17)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="工具/环境">
            
            工具/环境
            <small>(8)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="计算机网络">
            
            计算机网络
            <small>(4)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="金融知识">
            
            金融知识
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="科研">
            
            科研
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="控制基础">
            
            控制基础
            <small>(5)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="脑机接口">
            
            脑机接口
            <small>(1)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="软件工程">
            
            软件工程
            <small>(12)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="深度学习">
            
            深度学习
            <small>(2)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="算法">
            
            算法
            <small>(23)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="体系结构">
            
            体系结构
            <small>(4)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="English">
            
            English
            <small>(9)</small>
        </div>
        
    </li>

            
        
    
        
            
                
    <li>
        <div data-rel="UNIX编程">
            
            UNIX编程
            <small>(3)</small>
        </div>
        
    </li>

            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  site_url"
               
               href="/about">About</a>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="90">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="All 软件工程 "
           href="/2024/08/06/high_concurrent/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="高并发读写结构设计">高并发读写结构设计</span>
            <span class="post-date" title="2024-08-06 17:09:25">2024/08/06</span>
        </a>
        
        
        <a  class="All 软件工程 "
           href="/2024/08/06/rpc_architecture/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="后端微服务的架构">后端微服务的架构</span>
            <span class="post-date" title="2024-08-06 16:53:34">2024/08/06</span>
        </a>
        
        
        <a  class="All 计算机网络 "
           href="/2024/08/06/network_datalink_layer/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="数据链路层">数据链路层</span>
            <span class="post-date" title="2024-08-06 16:36:40">2024/08/06</span>
        </a>
        
        
        <a  class="All 软件工程 "
           href="/2024/08/05/service_discovery/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="服务发现架构设计">服务发现架构设计</span>
            <span class="post-date" title="2024-08-05 20:02:13">2024/08/05</span>
        </a>
        
        
        <a  class="All 软件工程 "
           href="/2024/08/05/lvs_nginx/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="LVS/Nginx-服务器调度的技术">LVS/Nginx-服务器调度的技术</span>
            <span class="post-date" title="2024-08-05 14:46:20">2024/08/05</span>
        </a>
        
        
        <a  class="All 软件工程 "
           href="/2024/08/05/dns/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DNS-客户端连接到机房的技术">DNS-客户端连接到机房的技术</span>
            <span class="post-date" title="2024-08-05 13:08:35">2024/08/05</span>
        </a>
        
        
        <a  class="All 科研 "
           href="/2024/08/04/ssvep_stimulus/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="SSVEP刺激设计">SSVEP刺激设计</span>
            <span class="post-date" title="2024-08-04 12:01:03">2024/08/04</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/07/08/time_complexity/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="时间复杂度">时间复杂度</span>
            <span class="post-date" title="2024-07-08 19:42:58">2024/07/08</span>
        </a>
        
        
        <a  class="All 深度学习 "
           href="/2024/07/06/ai_cnn/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="CNN的基本原理">CNN的基本原理</span>
            <span class="post-date" title="2024-07-06 19:43:58">2024/07/06</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/07/05/parser/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Parser的知识合集">Parser的知识合集</span>
            <span class="post-date" title="2024-07-05 16:29:19">2024/07/05</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/07/04/raii/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="RAII的概念">RAII的概念</span>
            <span class="post-date" title="2024-07-04 16:16:39">2024/07/04</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/07/04/char_encode/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="字符编码深度理解">字符编码深度理解</span>
            <span class="post-date" title="2024-07-04 11:32:31">2024/07/04</span>
        </a>
        
        
        <a  class="All 体系结构 "
           href="/2024/07/04/ieee_754/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="体系结构中的浮点数">体系结构中的浮点数</span>
            <span class="post-date" title="2024-07-04 11:24:35">2024/07/04</span>
        </a>
        
        
        <a  class="All 工具/环境 "
           href="/2024/06/29/conda_workflow/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="conda的工作流">conda的工作流</span>
            <span class="post-date" title="2024-06-29 15:03:32">2024/06/29</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/06/19/python_matplotlib/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="使用matplotlib做可视化">使用matplotlib做可视化</span>
            <span class="post-date" title="2024-06-19 18:47:34">2024/06/19</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/06/19/python_pandas/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="利用Pandas做数据分析的思路">利用Pandas做数据分析的思路</span>
            <span class="post-date" title="2024-06-19 17:32:09">2024/06/19</span>
        </a>
        
        
        <a  class="All 控制基础 "
           href="/2024/06/06/signal_process/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="信号与系统">信号与系统</span>
            <span class="post-date" title="2024-06-06 09:44:06">2024/06/06</span>
        </a>
        
        
        <a  class="All 控制基础 "
           href="/2024/06/02/quaternion/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="描述旋转的几种方式">描述旋转的几种方式</span>
            <span class="post-date" title="2024-06-02 13:08:26">2024/06/02</span>
        </a>
        
        
        <a  class="All 深度学习 "
           href="/2024/06/01/transformer/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="理解Transformer">理解Transformer</span>
            <span class="post-date" title="2024-06-01 20:53:28">2024/06/01</span>
        </a>
        
        
        <a  class="All 控制基础 "
           href="/2024/06/01/linear_algebra/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="线性代数">线性代数</span>
            <span class="post-date" title="2024-06-01 15:30:18">2024/06/01</span>
        </a>
        
        
        <a  class="All 控制基础 "
           href="/2024/06/01/kalman/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="卡尔曼滤波数学推导">卡尔曼滤波数学推导</span>
            <span class="post-date" title="2024-06-01 14:10:10">2024/06/01</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/05/31/rust_threadpool/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="用rust实现一个简易线程池">用rust实现一个简易线程池</span>
            <span class="post-date" title="2024-05-31 09:12:31">2024/05/31</span>
        </a>
        
        
        <a  class="All 金融知识 "
           href="/2024/05/22/quant_analysis/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="金融量化分析模型">金融量化分析模型</span>
            <span class="post-date" title="2024-05-22 18:08:38">2024/05/22</span>
        </a>
        
        
        <a  class="All English "
           href="/2024/05/17/car-english/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="汽车英语">汽车英语</span>
            <span class="post-date" title="2024-05-17 13:37:34">2024/05/17</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/05/17/compile-link/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="程序的链接">程序的链接</span>
            <span class="post-date" title="2024-05-17 12:33:47">2024/05/17</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/05/14/regular_expression/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="正则表达式原理和实战">正则表达式原理和实战</span>
            <span class="post-date" title="2024-05-14 20:14:59">2024/05/14</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/05/14/recursion/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="递归系列">递归系列</span>
            <span class="post-date" title="2024-05-14 16:02:10">2024/05/14</span>
        </a>
        
        
        <a  class="All 控制基础 "
           href="/2024/05/14/probability/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="概率论与数理统计">概率论与数理统计</span>
            <span class="post-date" title="2024-05-14 10:20:01">2024/05/14</span>
        </a>
        
        
        <a  class="All English "
           href="/2024/05/13/restaurant_english/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="饭店英语">饭店英语</span>
            <span class="post-date" title="2024-05-13 20:25:52">2024/05/13</span>
        </a>
        
        
        <a  class="All 软件工程 "
           href="/2024/05/13/combine_design_pattern/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="组合型的设计模式">组合型的设计模式</span>
            <span class="post-date" title="2024-05-13 20:11:49">2024/05/13</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/05/12/frontend-lang/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="前端语言使用日记">前端语言使用日记</span>
            <span class="post-date" title="2024-05-12 21:13:45">2024/05/12</span>
        </a>
        
        
        <a  class="All UNIX编程 "
           href="/2024/05/12/linux_process/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Linux上的进程控制">Linux上的进程控制</span>
            <span class="post-date" title="2024-05-12 13:03:52">2024/05/12</span>
        </a>
        
        
        <a  class="All English "
           href="/2024/05/12/hotel-english/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="酒店英语">酒店英语</span>
            <span class="post-date" title="2024-05-12 12:29:02">2024/05/12</span>
        </a>
        
        
        <a  class="All 计算机网络 "
           href="/2024/05/11/network_network_layer/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="网络层">网络层</span>
            <span class="post-date" title="2024-05-11 18:21:44">2024/05/11</span>
        </a>
        
        
        <a  class="All 计算机网络 "
           href="/2024/05/10/network_application_layer/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="应用层">应用层</span>
            <span class="post-date" title="2024-05-10 20:46:30">2024/05/10</span>
        </a>
        
        
        <a  class="All English "
           href="/2024/05/10/airport-english/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="机场英语">机场英语</span>
            <span class="post-date" title="2024-05-10 10:12:57">2024/05/10</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/05/09/practical-go/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Go语言使用日记">Go语言使用日记</span>
            <span class="post-date" title="2024-05-09 20:48:25">2024/05/09</span>
        </a>
        
        
        <a  class="All 软件工程 "
           href="/2024/05/09/database-basic/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="PostgreSQL数据库教程">PostgreSQL数据库教程</span>
            <span class="post-date" title="2024-05-09 20:24:37">2024/05/09</span>
        </a>
        
        
        <a  class="All 体系结构 "
           href="/2024/05/09/cache-basic/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Cache的基础知识与设计策略">Cache的基础知识与设计策略</span>
            <span class="post-date" title="2024-05-09 20:12:19">2024/05/09</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/05/09/sort-algorithm/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="排序算法">排序算法</span>
            <span class="post-date" title="2024-05-09 17:10:04">2024/05/09</span>
        </a>
        
        
        <a  class="All 计算机网络 "
           href="/2024/04/21/network_tcp/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="传输层">传输层</span>
            <span class="post-date" title="2024-04-21 15:16:42">2024/04/21</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/04/14/two_pointer/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="双指针">双指针</span>
            <span class="post-date" title="2024-04-14 19:46:01">2024/04/14</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/04/13/practical-rust/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Rust使用日记">Rust使用日记</span>
            <span class="post-date" title="2024-04-13 17:05:26">2024/04/13</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/04/12/rust_async/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Rust的异步编程">Rust的异步编程</span>
            <span class="post-date" title="2024-04-12 14:09:37">2024/04/12</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/04/07/python_many/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Python的一些基础">Python的一些基础</span>
            <span class="post-date" title="2024-04-07 10:46:59">2024/04/07</span>
        </a>
        
        
        <a  class="All 脑机接口 "
           href="/2024/04/06/eeg_device/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="脑电的原理">脑电的原理</span>
            <span class="post-date" title="2024-04-06 10:35:04">2024/04/06</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/04/02/rust_leetcode/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="用Rust实现Leetcode算法题">用Rust实现Leetcode算法题</span>
            <span class="post-date" title="2024-04-02 12:59:13">2024/04/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/30/binary-tree/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="二叉树系列">二叉树系列</span>
            <span class="post-date" title="2024-03-30 17:07:34">2024/03/30</span>
        </a>
        
        
        <a  class="All UNIX编程 "
           href="/2024/03/30/multithread/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="多进程/多线程编程模型">多进程/多线程编程模型</span>
            <span class="post-date" title="2024-03-30 16:47:20">2024/03/30</span>
        </a>
        
        
        <a  class="All 软件工程 "
           href="/2024/03/30/profile/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="软件的性能分析">软件的性能分析</span>
            <span class="post-date" title="2024-03-30 13:49:01">2024/03/30</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/28/linkedlist/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="链表系列">链表系列</span>
            <span class="post-date" title="2024-03-28 09:53:10">2024/03/28</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/24/data-struct/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="数据结构">数据结构</span>
            <span class="post-date" title="2024-03-24 14:10:22">2024/03/24</span>
        </a>
        
        
        <a  class="All 工具/环境 "
           href="/2024/03/23/vscode/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="vscode插件配置">vscode插件配置</span>
            <span class="post-date" title="2024-03-23 15:50:58">2024/03/23</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/03/22/command_line/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Shell脚本现用现学">Shell脚本现用现学</span>
            <span class="post-date" title="2024-03-22 12:50:32">2024/03/22</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/03/22/cpp-many/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="C++之用到什么学什么">C++之用到什么学什么</span>
            <span class="post-date" title="2024-03-22 11:31:11">2024/03/22</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/20/linear-dp/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="线性DP">线性DP</span>
            <span class="post-date" title="2024-03-20 18:11:22">2024/03/20</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/20/tree-dp/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="树形DP">树形DP</span>
            <span class="post-date" title="2024-03-20 18:10:56">2024/03/20</span>
        </a>
        
        
        <a  class="All English "
           href="/2024/03/20/sci-writing-method/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="英语科技论文写作模型-Methodology">英语科技论文写作模型-Methodology</span>
            <span class="post-date" title="2024-03-20 16:53:17">2024/03/20</span>
        </a>
        
        
        <a  class="All English "
           href="/2024/03/20/sci-writing-abstract/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="英语科技论文写作模型-Abstract">英语科技论文写作模型-Abstract</span>
            <span class="post-date" title="2024-03-20 16:49:54">2024/03/20</span>
        </a>
        
        
        <a  class="All English "
           href="/2024/03/20/sci-writing-conclusion/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="英语科技论文写作模型-Conclusion">英语科技论文写作模型-Conclusion</span>
            <span class="post-date" title="2024-03-20 16:49:46">2024/03/20</span>
        </a>
        
        
        <a  class="All English "
           href="/2024/03/20/sci-writing-results/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="英语科技论文写作模型-Results">英语科技论文写作模型-Results</span>
            <span class="post-date" title="2024-03-20 16:49:31">2024/03/20</span>
        </a>
        
        
        <a  class="All English "
           href="/2024/03/19/sci-writing-introduction/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="英语科技论文写作模型-Introduction">英语科技论文写作模型-Introduction</span>
            <span class="post-date" title="2024-03-19 10:16:07">2024/03/19</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/10/catalan/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="卡特兰数系列">卡特兰数系列</span>
            <span class="post-date" title="2024-03-10 12:47:19">2024/03/10</span>
        </a>
        
        
        <a  class="All UNIX编程 "
           href="/2024/03/05/concurrent_sketch/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="并发编程的概述">并发编程的概述</span>
            <span class="post-date" title="2024-03-05 15:00:50">2024/03/05</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/03/knapsack/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="背包问题">背包问题</span>
            <span class="post-date" title="2024-03-03 16:22:21">2024/03/03</span>
        </a>
        
        
        <a  class="All 体系结构 "
           href="/2024/03/02/virtualmem/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="虚拟内存的基础知识和设计">虚拟内存的基础知识和设计</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/sim-plus/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="高精度加减乘除">高精度加减乘除</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/prefix-sum-diff/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="前缀和/差分">前缀和/差分</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/other-algorithm/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="其他算法/模拟题">其他算法/模拟题</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/parathesis/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="括号序列">括号序列</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/mathematic/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="数学问题">数学问题</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/interval/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="区间问题">区间问题</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/greedy/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="贪心算法">贪心算法</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/graph/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="图论">图论</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 编程语言 "
           href="/2024/03/02/go-concurrent/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="使用goroutine实现并发算法题">使用goroutine实现并发算法题</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/dfs/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="深度优先搜索">深度优先搜索</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 体系结构 "
           href="/2024/03/02/cache-coherence/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="缓存一致性">缓存一致性</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/catch-rain/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="接雨水问题">接雨水问题</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/bfs/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="广度优先搜索">广度优先搜索</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 算法 "
           href="/2024/03/02/binary-search/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="二分系列">二分系列</span>
            <span class="post-date" title="2024-03-02 19:59:34">2024/03/02</span>
        </a>
        
        
        <a  class="All 工具/环境 "
           href="/2024/03/02/jetbrains/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Jetbrains系列IDE的使用">Jetbrains系列IDE的使用</span>
            <span class="post-date" title="2024-03-02 19:00:15">2024/03/02</span>
        </a>
        
        
        <a  class="All 工具/环境 "
           href="/2024/03/02/tmux/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="tmux键位配置">tmux键位配置</span>
            <span class="post-date" title="2024-03-02 13:16:32">2024/03/02</span>
        </a>
        
        
        <a  class="All 软件工程 "
           href="/2024/03/01/clean_code/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="代码整洁之道">代码整洁之道</span>
            <span class="post-date" title="2024-03-01 14:30:08">2024/03/01</span>
        </a>
        
        
        <a  class="All 软件工程 "
           href="/2024/03/01/software_rule/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="面向对象设计的基本原则">面向对象设计的基本原则</span>
            <span class="post-date" title="2024-03-01 14:30:02">2024/03/01</span>
        </a>
        
        
        <a  class="All 工具/环境 "
           href="/2024/02/29/lazygit/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Git/Lazygit版本控制">Git/Lazygit版本控制</span>
            <span class="post-date" title="2024-02-29 17:44:04">2024/02/29</span>
        </a>
        
        
        <a  class="All 工具/环境 "
           href="/2024/02/28/yabai/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="yabai窗口管理器键位配置">yabai窗口管理器键位配置</span>
            <span class="post-date" title="2024-02-28 13:01:35">2024/02/28</span>
        </a>
        
        
        <a  class="All 工具/环境 "
           href="/2024/02/27/joshuto/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="joshuto的键位配置">joshuto的键位配置</span>
            <span class="post-date" title="2024-02-27 19:43:49">2024/02/27</span>
        </a>
        
        
        <a  class="All 软件工程 "
           href="/2024/02/26/behaviour_design_pattern/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="行为型的设计模式">行为型的设计模式</span>
            <span class="post-date" title="2024-02-26 20:11:27">2024/02/26</span>
        </a>
        
        
        <a  class="All 工具/环境 "
           href="/2024/02/26/vimium/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Chrome中vimium键位">Chrome中vimium键位</span>
            <span class="post-date" title="2024-02-26 20:03:26">2024/02/26</span>
        </a>
        
        
        <a  class="All 软件工程 "
           href="/2024/02/25/build_design_pattern/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="创建型的设计模式">创建型的设计模式</span>
            <span class="post-date" title="2024-02-25 15:27:36">2024/02/25</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-practical-go" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Go语言使用日记</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="编程语言">编程语言</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2024-05-17 14:20:24'>2024-05-09 20:48</time>
        
    </div>
    <div class="article-meta">
        
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83"><span class="toc-text">配置环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-text">命名规范</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E6%95%B0"><span class="toc-text">实数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B4%E6%95%B0"><span class="toc-text">整数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-text">类型转换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-text">函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-text">方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-text">数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E7%89%87"><span class="toc-text">切片</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map"><span class="toc-text">map</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#struct"><span class="toc-text">struct</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3"><span class="toc-text">接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-text">指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nil"><span class="toc-text">nil</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-text">异常处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#package"><span class="toc-text">package</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MPG%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9E%8B"><span class="toc-text">MPG并发模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E7%A8%8B"><span class="toc-text">协程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E5%8D%8F%E7%A8%8B%E7%AD%89%E5%BE%85%E5%AD%90%E5%8D%8F%E7%A8%8B"><span class="toc-text">主协程等待子协程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E5%8D%8F%E7%A8%8B%E6%95%85%E9%9A%9C%E4%B8%8D%E5%AF%BC%E8%87%B4%E4%B8%BB%E5%8D%8F%E7%A8%8B%E6%8C%82"><span class="toc-text">子协程故障不导致主协程挂</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%B4%E7%95%8C%E5%8C%BA%E5%92%8C%E9%94%81"><span class="toc-text">临界区和锁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Channel"><span class="toc-text">Channel</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Channel%E5%AE%9E%E7%8E%B0%E4%B8%BB%E5%8D%8F%E7%A8%8B%E7%AD%89%E5%BE%85%E5%AD%90%E5%8D%8F%E7%A8%8B"><span class="toc-text">使用Channel实现主协程等待子协程</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%BB%E9%94%81"><span class="toc-text">死锁</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E5%AD%901"><span class="toc-text">例子1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%8B%E5%AD%902"><span class="toc-text">例子2</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="配置环境"><a href="#配置环境" class="headerlink" title="配置环境"></a>配置环境</h2>
<ul>
<li>
<p>官网下载<code>pkg</code>.</p>
</li>
<li>
<p>环境变量:</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> GO111MODULE=on<br><span class="hljs-built_in">export</span> GOROOT=/usr/local/go<br><span class="hljs-built_in">export</span> GOPATH=<span class="hljs-variable">$HOME</span>/go<br><span class="hljs-built_in">export</span> GOPROXY=https://goproxy.cn<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$GOROOT</span>/bin<br></code></pre></td></tr></table></figure>
<h2 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范"></a>命名规范</h2>
<ul>
<li>package: 小写单词, 不用下划线.</li>
<li>文件名: 小写单词, 下划线.</li>
<li>变量: 驼峰.</li>
<li>函数: 驼峰.</li>
<li>结构体: 驼峰.</li>
</ul>
<h2 id="实数"><a href="#实数" class="headerlink" title="实数"></a>实数</h2>
<ul>
<li>
<p>Go语言中有两种浮点数:</p>
<ul>
<li><code>float64</code>:
<ul>
<li>浮点数默认都是float64.</li>
<li>占用8字节内存.</li>
</ul>
</li>
<li><code>float32</code>: 占用4字节内存.</li>
</ul>
</li>
<li>
<p>如果要使用单精度, 必须显式声明<code>float32</code>:</p>
<ul>
<li><code>var num float32 = 42.0</code>.</li>
</ul>
</li>
<li>
<p>Go语言中, 每一种类型都有一个默认值, 它叫做零值.</p>
</li>
<li>
<p>如果你声明但是没有初始化变量, 那么变量就会变成零值.</p>
</li>
<li>
<p><code>%f</code>格式化占位符: <code>%m.nf</code></p>
<ul>
<li><code>m</code>表示整个浮点数的输出宽度 (如果数长, 超过这个宽度, 没有问题, 如果达不到这个宽度会在左边填充空格).
<ul>
<li>如果不想用空格, 想用0填充, 可以用<code>%0m.nf</code>.</li>
</ul>
</li>
<li><code>n</code>表示小数点的位数.</li>
</ul>
</li>
<li>
<p>浮点数不精确, 尽量先做乘法, 再做➗.</p>
</li>
<li>
<p>如果要比较浮点数<code>a</code>和<code>b</code>, 用<code>math.Abs(a - b) &lt; eps</code>, 其中<code>eps</code>需要自己确定.</p>
</li>
<li>
<p>如果没有为指数形式(例如<code>24e18</code>)指明类型, 那么默认是<code>float64</code>类型.</p>
</li>
</ul>
<h2 id="整数"><a href="#整数" class="headerlink" title="整数"></a>整数</h2>
<ul>
<li>
<p>最常用的有符号整数类型是<code>int</code>, 无符号的是<code>uint</code>.</p>
</li>
<li>
<p>自动推断整数类型一般是<code>int</code>.</p>
</li>
<li>
<p>Go语言中的整数类型只有8种:</p>
<ul>
<li><code>int8, int16, int32, int64</code>.</li>
<li><code>uint8, uint16, uint32, uint64</code>.</li>
<li>这8中类型和CPU架构没有关系.</li>
</ul>
</li>
<li>
<p><code>int</code>和<code>uint</code>是和目标设备有关的, 不同平台位宽可能不一样.</p>
<ul>
<li>最好用<code>int64</code>或者<code>uint64</code>代替<code>int</code>和<code>uint</code>.</li>
</ul>
</li>
<li>
<p>Go语言中加上<code>0x</code>前缀, 就可以用十六进制的形式表示.</p>
</li>
<li>
<p>整数以16进制打印, 可以用<code>%0mx</code>.</p>
<ul>
<li><code>0</code>表示前面如果宽度不够, 用0填充.</li>
<li><code>m</code>表示最小宽度.</li>
</ul>
</li>
<li>
<p>整数类型都有范围, 超过这个范围就会发生环绕.</p>
<ul>
<li>因此, 如果代表时间, 应该用<code>int64</code>或者<code>uint64</code>.</li>
</ul>
</li>
<li>
<p>整数以2进制打印, 可以用<code>%0mb</code>, 和<code>%0mx</code>用法一样.</p>
</li>
<li>
<p><code>math</code>包中, 为与架构无关的整数, 预定义了最大值和最小值:</p>
<ul>
<li>例如<code>math.MaxInt16</code>和<code>math.MaxInt32</code>等.</li>
</ul>
</li>
<li>
<p>对于超大数, 可以使用<code>big</code>包:</p>
<ul>
<li>
<p>超大整数: <code>big.Int</code>.</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">a := <span class="hljs-built_in">new</span>(big.Int)<br><span class="hljs-comment">// 10代表进制</span><br>a.SetString(<span class="hljs-string">&quot;2400000000000000000000000&quot;</span>, <span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure>
<ul>
<li>一旦一个整数使用了<code>big.Int</code>, 那么等式的其他变量也必须是<code>big.Int</code>类型</li>
<li><code>big.NewInt()</code>可以把<code>int64</code>转换成<code>big.Int</code>类型.</li>
</ul>
</li>
<li>
<p>任意精度浮点数: <code>big.Float</code></p>
</li>
<li>
<p>分数: <code>big.Rat</code>.</p>
</li>
</ul>
</li>
<li>
<p>在Go语言中, 常量可以是没有类型<code>untype</code>的:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">const</span> a = <span class="hljs-number">24000000000000000000000000000</span><br></code></pre></td></tr></table></figure>
<ul>
<li>在底层, 这种无类型的常量, 也是用<code>big</code>包进行处理的.</li>
</ul>
</li>
<li>
<p>用<code>fmt.Printf</code>打印时, 通用的占位符类型是<code>%v</code>.</p>
</li>
</ul>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2>
<ul>
<li>
<p>字符串的类型是<code>string</code>.</p>
</li>
<li>
<p>字符串的零值是<code>""</code>.</p>
</li>
<li>
<p>字符串字面值和原始字符串字面值(raw string literal):</p>
<ul>
<li>
<p>字符串字面值会处理转义字符: <code>fmt.Println("haha\nhaha")</code></p>
</li>
<li>
<p>原始字符串字面值不用<code>""</code>, 不会处理其中的转义字符.</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">fmt.Println(<span class="hljs-string">`haha\nhaha`</span>)<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>字符:</p>
<ul>
<li>
<p>ASCII码中包含128个字符.</p>
</li>
<li>
<p>Unicode联盟为超过100万个字符都分配了数值, 这个数值叫做code points.</p>
<ul>
<li>65表示<code>'A'</code>.</li>
</ul>
</li>
<li>
<p>为了表示code points, Go语言提供了<code>rune</code>类型, 本质上是<code>int32</code>.</p>
</li>
<li>
<p><code>byte</code>是<code>uint8</code>的别名.</p>
</li>
</ul>
</li>
<li>
<p>给类型起别名:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> <span class="hljs-type">rune</span> = <span class="hljs-type">int32</span><br></code></pre></td></tr></table></figure>
</li>
<li>
<p>如果想打印字符而不是数值, 就用<code>%c</code>.</p>
</li>
<li>
<p>如果想输出code points, 就用<code>%v</code>.</p>
</li>
<li>
<p>任何整数类型都可以用<code>%c</code>打印, 但是<code>rune</code>意味着该数值表示了一个字符.</p>
</li>
<li>
<p>如果没有指定字符类型, Go语言会推断类型为<code>rune</code>.</p>
<ul>
<li>字符字面值也可以用<code>byte</code>类型.</li>
</ul>
</li>
<li>
<p>可以给某一个变量赋予不同的<code>string</code>值, 但是<code>string</code>本身是不可变的, 例如下面代码会报错:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	message := <span class="hljs-string">&quot;shalom&quot;</span><br>	message[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;d&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>可以用<code>len(message)</code>获取字符串的<strong>字节数</strong>, <code>len()</code>是内置函数.</p>
<ul>
<li>
<p>如果需要获取字符串的字符个数, 需要用<code>utf8</code>包</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;unicode/utf8&quot;</span><br><br>a = <span class="hljs-string">&quot;haha&quot;</span><br>fmt.Println(utf8.RuneCountInString(a))<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>Go语言中的字符串采用<code>UTF-8</code>编码, <code>UTF-8</code>编码是Unicode code points的编码方式之一.</p>
<ul>
<li><code>UTF-8</code>是一种可变长度编码, 每个code point可以是8位, 16位, 32位.</li>
</ul>
</li>
<li>
<p>Go语言中的字符可以通过<code>+</code>整数, 变成另一个字符.</p>
</li>
<li>
<p>遍历字符串字符:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">a := <span class="hljs-string">&quot;haha&quot;</span><br><br><span class="hljs-keyword">for</span> _, c := <span class="hljs-keyword">range</span> a &#123;<br>  fmt.Printf(<span class="hljs-string">&quot;%v %c&quot;</span>, i, c);<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2>
<ul>
<li>
<p>直接连接字符串和数值会报错:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">count := <span class="hljs-string">&quot;haha&quot;</span> + <span class="hljs-number">10</span> + <span class="hljs-string">&quot;haha&quot;</span><br></code></pre></td></tr></table></figure>
</li>
<li>
<p>整数和浮点数也不能直接运算:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">a := <span class="hljs-number">1</span><br>b := <span class="hljs-number">2.0</span><br>c := a * b <span class="hljs-comment">//报错</span><br></code></pre></td></tr></table></figure>
</li>
<li>
<p>类型转换:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">a := <span class="hljs-number">1</span><br>b := <span class="hljs-type">float64</span>(a)<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>从浮点类型转换为整数类型, 小数点后面的部分会被截断.</p>
</li>
<li>
<p>无符号和有符号之间, 不同大小的整数类型之间都需要转换!</p>
</li>
<li>
<p>类型转换需要谨慎, 避免环绕行为.</p>
<ul>
<li>可以通过<code>math</code>包中的<code>min/max</code>判断是否超过最大/最小值.</li>
</ul>
</li>
<li>
<p>如果想把<code>rune</code>或者<code>byte</code>转换为<code>string</code>, 语法是一样的:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">var</span> a <span class="hljs-type">byte</span> = <span class="hljs-number">12</span><br><span class="hljs-keyword">var</span> b <span class="hljs-type">rune</span> = <span class="hljs-number">199</span><br><br>c := <span class="hljs-type">string</span>(a)<br>d := <span class="hljs-type">string</span>(b)<br></code></pre></td></tr></table></figure>
<ul>
<li>但是, 必须要证<code>rune/byte</code>的数值在合法范围内.</li>
<li>注意, 这个转换是把unicode code point转换成字符串, 例如<code>97</code>转换成<code>'a'</code>.</li>
</ul>
</li>
<li>
<p>整数转字符串: <code>strconv.Itoa(10)</code>, 可以把10转为<code>"10"</code>.</p>
</li>
<li>
<p>字符串转整数:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">data, err := strconv.Atoi(<span class="hljs-string">&quot;10&quot;</span>)<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2>
<ul>
<li>
<p>函数声明: <code>func</code></p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Func_name</span><span class="hljs-params">(a <span class="hljs-type">int32</span>, b <span class="hljs-type">int64</span>)</span></span> <span class="hljs-type">string</span> &#123;<br>  <br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>大写字母开头的函数/变量/其他标识符都会被默认导出, 小写字母开头就不行.</p>
</li>
<li>
<p>函数可以有多个返回值:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Func_name</span><span class="hljs-params">(a <span class="hljs-type">int32</span>, b <span class="hljs-type">int64</span>)</span></span> (<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) &#123;<br>  <br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>匿名函数:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>  fmt.Println(<span class="hljs-string">&quot;只用一次的匿名函数&quot;</span>)<br>&#125;()<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2>
<ul>
<li>
<p>方法不一定要和<code>struct</code>绑定, 可以和你自己声明的任何类型绑定:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// 通过type声明的新类型</span><br><span class="hljs-keyword">type</span> TypeA <span class="hljs-type">int32</span><br><br><span class="hljs-comment">// 为TypeA绑定方法</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(a TypeA)</span></span> getNum() i32 &#123;<br>  <br>&#125;<br><br><span class="hljs-keyword">var</span> a TypeA = <span class="hljs-number">2</span><br>a.getNum()<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2>
<ul>
<li>
<p>数组是一种固定长度的数据类型:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">var</span> planets [<span class="hljs-number">8</span>]<span class="hljs-type">string</span><br></code></pre></td></tr></table></figure>
<ul>
<li>二维数组: <code>var planets [8][8]string</code></li>
</ul>
</li>
<li>
<p>数组长度可以用<code>len()</code>确定:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-built_in">len</span>(planets)<br></code></pre></td></tr></table></figure>
<ul>
<li>数组的长度也是数组的一部分.</li>
</ul>
</li>
<li>
<p>如果没有初始化数组中的值, 那么数组中的值默认是零值.</p>
</li>
<li>
<p>Go语言编译时会检查数组越界, 如果越界就会报错.</p>
<ul>
<li>如果编译时没发现, 那么运行时出现就会<code>panic</code>.</li>
</ul>
</li>
<li>
<p>Go语言定义并初始化数组:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">dwarfs := [<span class="hljs-number">8</span>]<span class="hljs-type">string</span> &#123;<br>  <span class="hljs-string">&quot;A&quot;</span>,<br>  <span class="hljs-string">&quot;B&quot;</span>,<br>  <span class="hljs-string">&quot;C&quot;</span>,<br>  <span class="hljs-string">&quot;D&quot;</span>,<br>  <span class="hljs-string">&quot;E&quot;</span>,<br>  <span class="hljs-string">&quot;F&quot;</span>,<br>  <span class="hljs-string">&quot;G&quot;</span>,<br>  <span class="hljs-string">&quot;H&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li>
<p>可以使用<code>...</code>代替数组长度, Go编译器会帮你算出数组长度:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">dwarfs := [...]<span class="hljs-type">string</span> &#123;<br>  <span class="hljs-string">&quot;A&quot;</span>,<br>  <span class="hljs-string">&quot;B&quot;</span>,<br>  <span class="hljs-string">&quot;C&quot;</span>,<br>  <span class="hljs-string">&quot;D&quot;</span>,<br>  <span class="hljs-string">&quot;E&quot;</span>,<br>  <span class="hljs-string">&quot;F&quot;</span>,<br>  <span class="hljs-string">&quot;G&quot;</span>,<br>  <span class="hljs-string">&quot;H&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>遍历数组:</p>
<ul>
<li>
<p>使用<code>for</code>循环:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">len</span>(dwarfs); i ++ &#123;<br>  <br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>使用<code>range</code>:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">for</span> i, item := <span class="hljs-keyword">range</span> dwarfs &#123;<br>  <br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>数组复制:</p>
<ul>
<li>Go语言中, 将一个数组赋值/作为函数参数, 会发生深拷贝.</li>
</ul>
</li>
</ul>
<h2 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h2>
<ul>
<li>
<p><code>slice</code>是数组某一部分的副本.</p>
<ul>
<li><code>a[0:4]</code>就是一个切片.</li>
</ul>
</li>
<li>
<p><code>slice</code>的默认索引:</p>
<ul>
<li>忽略起始索引, 从开始切分, <code>a[:4]</code></li>
<li>忽略结束索引, 切分到结束, <code>a[1:]</code></li>
</ul>
</li>
<li>
<p>切分数组的语法也可以引用于字符串.</p>
<ul>
<li>切分字符串时, 索引代表的是字节数, 而不是<code>rune</code>.</li>
</ul>
</li>
<li>
<p>定义并初始化切片:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">dwarfs := []<span class="hljs-type">string</span> &#123;<br>  <span class="hljs-string">&quot;haha&quot;</span>,<br>  <span class="hljs-string">&quot;haha&quot;</span>,<br>  <span class="hljs-string">&quot;haha&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li>想要获得和数组相同元素的<code>slice</code>, 可以用<code>[:]</code>切分.</li>
</ul>
</li>
<li>
<p>Go语言中, 很多函数倾向于使用slice, 而不是数组作为参数.</p>
</li>
<li>
<p>slice在进行赋值/函数参数传递时, 会发生浅拷贝.</p>
</li>
<li>
<p><code>append</code>函数:</p>
<ul>
<li>
<p><code>append</code>函数是内置函数, 可以将元素添加到slice中.</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">dwarfs := []<span class="hljs-type">string</span> &#123; <span class="hljs-string">&quot;A&quot;</span>, <span class="hljs-string">&quot;B&quot;</span> &#125;<br>dwarfs = <span class="hljs-built_in">append</span>(dwarfs, <span class="hljs-string">&quot;C&quot;</span>)<br><span class="hljs-comment">// 也可以添加多个元素</span><br>dwarfs = <span class="hljs-built_in">append</span>(dwarfs, <span class="hljs-string">&quot;D&quot;</span>, <span class="hljs-string">&quot;E&quot;</span>)<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p><code>length</code>和<code>capacity</code>的区别:</p>
<ul>
<li><code>length</code>: <code>slice</code>中有多少个元素, 用<code>len()</code>.</li>
<li><code>capacity</code>: <code>slice</code>对应的底层数组有多少个元素, 用<code>cap()</code>.</li>
</ul>
</li>
<li>
<p><code>slice</code>预分配:</p>
<ul>
<li>
<p><code>slice</code>本质上是一个动态数组, 如果<code>append</code>过多, 会发生过多的内存拷贝, 影响性能.</p>
</li>
<li>
<p>可以使用<code>make</code>函数进行预分配:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// 初始length是0, capacity是10</span><br>dwarfs = <span class="hljs-built_in">make</span>([]<span class="hljs-type">string</span>, <span class="hljs-number">0</span>, <span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>声明可变参数的函数:</p>
<ul>
<li>
<p>需要在函数最后一个参数的前面加上<code>...</code>:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// worlds本质上是[]string类型</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">terraform</span><span class="hljs-params">(prefix <span class="hljs-type">string</span>, worlds ...<span class="hljs-type">string</span>)</span></span> []<span class="hljs-type">string</span> &#123;<br>  <span class="hljs-keyword">for</span> i := <span class="hljs-keyword">range</span> worlds &#123;<br>    worlds[i]<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2>
<ul>
<li>
<p>声明map, 必须指明key和value的类型:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">int</span><br></code></pre></td></tr></table></figure>
</li>
<li>
<p>根据已有的值直接创建<code>map</code>:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">temperature := <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">int</span> &#123;<br>  <span class="hljs-string">&quot;Earth&quot;</span>: <span class="hljs-number">15</span>,<br>  <span class="hljs-string">&quot;Mars&quot;</span>: <span class="hljs-number">-15</span>,<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>插入一个键值对:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">temperature[<span class="hljs-string">&quot;Venus&quot;</span>] = <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure>
</li>
<li>
<p>当访问一个不存在的值时, map会返回类型对应的零值:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// value的值是0</span><br>value := temperature[<span class="hljs-string">&quot;Moon&quot;</span>]<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>逗号和OK写法: 用来判断key在键值对存不存在:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">if</span> moon, ok := temperature[<span class="hljs-string">&quot;Moon&quot;</span>]; ok &#123;<br>  <span class="hljs-comment">// 如果键值对存在</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>  <span class="hljs-comment">// 如果键值对不存在</span><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>map在赋值/当作函数参数时, 只会发生浅拷贝:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">a = <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">int</span> &#123;<br>  <span class="hljs-string">&quot;haha&quot;</span>: <span class="hljs-number">1</span>,<br>  <span class="hljs-string">&quot;heihei&quot;</span>: <span class="hljs-number">2</span>,<br>&#125;<br><span class="hljs-comment">// b和a指向同一个map</span><br>b := a<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>删除键值对:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-built_in">delete</span>(tempearture, <span class="hljs-string">&quot;Moon&quot;</span>)<br></code></pre></td></tr></table></figure>
</li>
<li>
<p><code>make</code>也可以对map进行预分配: 第二个参数是预分配的空间</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">temperature = <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">float64</span>, <span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>遍历map:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">for</span> key, value := <span class="hljs-keyword">range</span> temperature &#123;<br>  <br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="struct"><a href="#struct" class="headerlink" title="struct"></a>struct</h2>
<ul>
<li>
<p>声明结构体:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> Student <span class="hljs-keyword">struct</span> &#123;<br>  name <span class="hljs-type">string</span><br>  age <span class="hljs-type">int64</span><br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li>结构体字段之间不用<code>,</code>隔开.</li>
</ul>
</li>
<li>
<p>打印结构体用<code>%+v</code>.</p>
</li>
<li>
<p>用复合字面值创建struct:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">student := Student &#123;<br>  name: <span class="hljs-string">&quot;haha&quot;</span>,<br>  age: <span class="hljs-number">18</span>,<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>struct的复制:</p>
<ul>
<li>struct赋值/当作函数参数时, 会发生深拷贝.</li>
</ul>
</li>
<li>
<p>将struct转换为json:</p>
<ul>
<li>
<p>首先需要在结构体定义时, 规定每个字段转化为json的时候是什么名字:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> Student <span class="hljs-keyword">struct</span> &#123;<br>  name <span class="hljs-type">string</span> <span class="hljs-string">`json:&quot;Name&quot;`</span><br>  age <span class="hljs-type">int</span> <span class="hljs-string">`json:&quot;Age&quot;`</span><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>需要<code>import "encoding/json"</code></p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// 转换成功可以得到[]byte</span><br>bytes, err := json.Marshal(student)<br>fmt.Printf(<span class="hljs-string">&quot;%+v&quot;</span>, <span class="hljs-type">string</span>(bytes))<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>将方法绑定到struct:</p>
<ul>
<li>
<p>构造函数: Go语言中没有特殊规定构造函数, 构造函数就是普通函数, 构造函数一般就叫<code>New()</code></p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> Location <span class="hljs-keyword">struct</span> &#123;<br>  lat <span class="hljs-type">float64</span><br>long <span class="hljs-type">float64</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewLocation</span><span class="hljs-params">(lat <span class="hljs-type">float64</span>, long <span class="hljs-type">float64</span>)</span></span> Location &#123;<br>  <span class="hljs-keyword">return</span> Location &#123; lat.decimal(), long.decimal() &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2>
<ul>
<li>
<p>接口定义了一个类型必须实现的一种方法.</p>
</li>
<li>
<p>按约定, 接口必须以<code>er</code>为结尾.</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">type</span> talker <span class="hljs-keyword">interface</span> &#123;<br>  talk() <span class="hljs-type">string</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(stu Student)</span></span> talk() <span class="hljs-type">string</span> &#123;<br>  <span class="hljs-comment">// Student实现了talker接口</span><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>接口类型的含义: 例如<code>t talker</code>, 表示所有实现了<code>talker</code>接口的变量</p>
</li>
<li>
<p><code>interface{}</code>这个类型表达式, 表示什么类型都行.</p>
</li>
</ul>
<h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h2>
<ul>
<li>
<p>通过<code>&amp;</code>可以获得变量的指针, 解引用用<code>*</code>.</p>
<ul>
<li>类型叫做<code>*int</code>, 表示<code>int</code>类型的指针.</li>
</ul>
</li>
<li>
<p>Go语言不允许对地址进行运算.</p>
</li>
<li>
<p>如果两个指针指向相同的内存地址, 那么他们就是相等的.</p>
</li>
<li>
<p>struct和指针:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">timmy = &amp;person &#123;<br>  name: <span class="hljs-string">&quot;Timmy&quot;</span>,<br>  age: <span class="hljs-number">10</span>,<br>&#125;<br><span class="hljs-comment">// 这个时候, 不用加上解引用&amp;</span><br><span class="hljs-comment">// 等价于(*timmy).superpower</span><br>fmt.Println(timmy.superpower)<br></code></pre></td></tr></table></figure>
<ul>
<li>slice和map也可以用<code>&amp;</code>, 但是不能自动解引用.</li>
</ul>
</li>
<li>
<p>函数/方法和指针:</p>
<ul>
<li>Go语言中函数和方法都是值传递, 函数总是操作副本(除了map), 如果要操作原变量要传指针.</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">birthday</span><span class="hljs-params">(p *Person)</span></span> &#123;<br>  p.age++<br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li>Go语言中的变量在使用<code>.</code>时, 会自动调用<code>&amp;</code>获取地址:</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(stu *Student)</span></span> setName(name <span class="hljs-type">string</span>) &#123;<br>  stu.name = name<br>&#125;<br><br>stu.setName()<br><span class="hljs-comment">// 不用(&amp;stu).setName()</span><br></code></pre></td></tr></table></figure>
<ul>
<li>如果一个struct的方法用到的是指针作为接收者, 那么这种类型的所有方法都应该用指针作为接收者.</li>
</ul>
</li>
</ul>
<h2 id="nil"><a href="#nil" class="headerlink" title="nil"></a>nil</h2>
<ul>
<li>
<p><code>nil</code>是指针, slice, map, 接口, 函数类型的零值.</p>
</li>
<li>
<p><code>nil</code>会导致<code>panic</code>:</p>
<ul>
<li>对<code>nil</code>进行解引用会导致<code>panic</code>.</li>
</ul>
</li>
<li>
<p>在设计方法时, 如果方法的接收者是指针, 应该判断指针是否为<code>nil</code>, 避免<code>panic</code>:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *person)</span></span> birthday() &#123;<br>  <span class="hljs-keyword">if</span> p == <span class="hljs-literal">nil</span> &#123;<br>    <span class="hljs-keyword">return</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li>
<p>对于nil类型的slice, <code>range, len, append</code>等函数都能正确处理slice, 不会导致panic.</p>
<ul>
<li>虽然空的slice和<code>nil</code>的slice并不相等, 但是它们通常可以替换使用.</li>
</ul>
</li>
<li>
<p>对值为<code>nil</code>的map进行读取, 不会<code>panic</code>, 但是插入值会发生<code>panic</code>.</p>
</li>
</ul>
<h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2>
<ul>
<li>
<p>按照惯例, 函数在返回错误时, 最后面的返回值应该表示错误, 如果没有错误返回<code>nil</code>.</p>
<ul>
<li>如果有错误, 返回<code>error</code>类型的变量, <code>error</code>类型是一个接口类型, 表示所有实现了<code>Error</code>接口的变量</li>
<li><code>import errors</code></li>
<li>如果要返回, 就返回<code>return errors.New("错误信息")</code></li>
</ul>
</li>
<li>
<p>如果要自定义错误类型, 可以实现<code>Error</code>接口:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(err AError)</span></span> Error() <span class="hljs-type">string</span> &#123;<br>  <span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li>
<p>那么这个类型就可以是<code>Error</code>的一种子类型<code>AError</code>.</p>
</li>
<li>
<p>如果需要判断一个<code>Error</code>变量是哪种错误类型:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-comment">// 如果err是AError类型, 那么ok就是true</span><br>  <span class="hljs-keyword">if</span> errs, ok := err.(AError); ok &#123;<br>    <br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>调用函数后, 应该立即检查是否有错误:</p>
<ul>
<li>当发生错误时, 函数的其他返回值就不能用.</li>
</ul>
</li>
<li>
<p><code>defer</code>语句:</p>
<ul>
<li><code>defer f.Close()</code>: 保证函数在返回之前, <code>f.Close()</code>一定可以被执行.</li>
<li>即使发生了<code>panic</code>, <code>defer</code>的语句也会执行.</li>
<li>一般用于释放资源, 避免忘记.</li>
</ul>
</li>
</ul>
<h2 id="package"><a href="#package" class="headerlink" title="package"></a>package</h2>
<ul>
<li>假设你有一个文件夹<code>utils</code>, 里面所有的<code>.go</code>文件, 第一行都是<code>package utils</code></li>
<li>里面的<code>.go</code>文件, 各种成分互相调用, 不用写<code>import</code>.</li>
<li>需要别的包调用的, 记得名字<font color="blue">首字母大写</font>, 不需要的小写.</li>
<li>在另外一个package中, 调用其他package的成分:
<ul>
<li>写上<code>import "Go项目的名字/package文件夹的路径"</code></li>
<li><code>package</code>文件夹的路径就是相对于Go项目根目录的路径.</li>
</ul>
</li>
</ul>
<h2 id="MPG并发模型"><a href="#MPG并发模型" class="headerlink" title="MPG并发模型"></a>MPG并发模型</h2>
<p>假设一个机器中有<svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewbox="0 -442 600 453" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-1-TEX-I-1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D45B" xlink:href="#MJX-1-TEX-I-1D45B"/></g></g></g></svg>个CPU, 那么这个机器就有<svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.357ex" height="1.025ex" role="img" focusable="false" viewbox="0 -442 600 453" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-2-TEX-I-1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"/></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D45B" xlink:href="#MJX-2-TEX-I-1D45B"/></g></g></g></svg>个进程.</p>
<ul>
<li>M: 全称是Machine, 是在用户态对于CPU的一种抽象, 一个进程对应一个Machine, 用于真正执行Goroutine.</li>
<li>P: 全称是Processor, 可以理解为存储Goroutine的一个队列.</li>
<li>G: 全称是Goroutine, 也叫协程, 是用户代码的运行时的状态.</li>
</ul>
<p>协程在放到Processor之前, 会被放到一个协程的全局队列runqueue中.</p>
<ol>
<li>当创建第一个协程时, 会发生:</li>
</ol>
<ul>
<li>系统创建一个Machine, 并绑定到一个进程上.</li>
<li>系统创建一个Processor, 并绑定到当前的Machine上.</li>
<li>协程Goroutine会被放到Processor上, 然后开始在Machine执行.</li>
</ul>
<ol start="2">
<li>如果协程数量很多时, 会发生:</li>
</ol>
<ul>
<li>系统会创建更多的Machine, 绑定到对应的进程上.</li>
<li>系统会创建更多的Processor, 用来存储将要运行的Goroutine.</li>
</ul>
<ol start="3">
<li>如果Machine在执行一个Goroutine时, 发生了I/O这种高耗时任务或系统调用, 会发生:</li>
</ol>
<ul>
<li>绑定到这个Machine的Processor会被切换到其他的Machine.</li>
<li>这个Machine仍在处理发生I/O的Goroutine, 直到结束.</li>
<li>结束后, 这个Machine会处于短暂的空闲状态</li>
</ul>
<h2 id="协程"><a href="#协程" class="headerlink" title="协程"></a>协程</h2>
<p>Go语言中, 创建协程的办法是在函数调用之前加上一个<code>go</code>, 例如:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;fmt&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span> &#123;<br>  fmt.Println(<span class="hljs-string">&quot;Hello&quot;</span>)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <span class="hljs-comment">// 创建了一个运行foo函数的协程</span><br>  <span class="hljs-keyword">go</span> foo()<br>&#125;<br></code></pre></td></tr></table></figure>
<p><font color="red">注意, 使用<code>go</code>创建的所有协程, 它们并不存在父子关系, 在调度层面是并列关系.</font></p>
<p>在Go语言中, 有一个主协程(也叫<code>main</code>协程), 主协程和其他协程的关系是:</p>
<ul>
<li>主协程结束会导致所有其他协程强制结束.</li>
<li>其他协程如果出现panic, 会导致主协程也强制结束, 这个需要避免.</li>
</ul>
<h3 id="主协程等待子协程"><a href="#主协程等待子协程" class="headerlink" title="主协程等待子协程"></a>主协程等待子协程</h3>
<p>如果要让主协程等待所有子协程完成之后再结束, 可以使用<code>sync.WaitGroup{}</code>.</p>
<p>具体例子如下:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;sync&quot;</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <br>  wg := sync.WaitGroup&#123;&#125;<br>  <br>  <span class="hljs-comment">/* 这里的2是main协程需要等待的子协程的个数 */</span><br>  wg.Add(<span class="hljs-number">2</span>)<br>  <br>  <span class="hljs-comment">/* 创建两个子协程, 然后子协程运行结束后执行Done */</span><br>  <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-keyword">defer</span> wg.Done()<br>    fmt.Println(<span class="hljs-string">&quot;...&quot;</span>)<br>  &#125;()<br>  <br>  <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-keyword">defer</span> wg.Done()<br>    fmt.Println(<span class="hljs-string">&quot;....&quot;</span>)<br>  &#125;()<br>  <br>  <span class="hljs-comment">/* main协程等待子协程 */</span><br>  wg.Wait()<br>&#125;<br></code></pre></td></tr></table></figure>
<p>这个<code>WaitGroup</code>可以写很多个, 最终的效果等于所有写的WaitGroup拼接起来.</p>
<h3 id="子协程故障不导致主协程挂"><a href="#子协程故障不导致主协程挂" class="headerlink" title="子协程故障不导致主协程挂"></a>子协程故障不导致主协程挂</h3>
<p>如果要子协程发生<code>panic</code>后不让主协程挂掉, 只需要在可能会发生<code>panic</code>的子协程的函数最前面加上这句话:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">f1</span><span class="hljs-params">()</span></span> &#123;<br>  <br>  <span class="hljs-comment">/* 如果发生了panic, 那么最终还会执行这个defer */</span><br>  <span class="hljs-keyword">defer</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>    <br>    err := <span class="hljs-built_in">recover</span>()<br>    <span class="hljs-comment">/* 如果err不是nil, 证明发生了panic, 后面是panic的处理逻辑 */</span><br>    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>      fmt.Println(err)<br>    &#125;<br>    <br>  &#125;<br>  <br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="临界区和锁"><a href="#临界区和锁" class="headerlink" title="临界区和锁"></a>临界区和锁</h2>
<p>临界区(Critical Section): 临界区是指一个协程中的一段代码, 这段代码中涉及修改全局变量的部分.</p>
<p>需要保证: <font color="red">同一时间段内, 有且仅有一个协程能够进入它的临界区.</font></p>
<p>实现这个原则可以通过两种方式:</p>
<ul>
<li>
<p>对临界资源加锁, 可以使用互斥锁mutex, 在Go语言中是<code>sync.Mutex</code>.</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;sync&quot;</span><br><br><span class="hljs-comment">/* mutex锁是全局变量 */</span><br><span class="hljs-keyword">var</span> lock = sync.Mutex&#123;&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">f1</span><span class="hljs-params">()</span></span> &#123;<br>  <br>  <br>  lock.lock()<br>  <span class="hljs-comment">/* 临界区代码 */</span><br>  lock.unlock()<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Channel"><a href="#Channel" class="headerlink" title="Channel"></a>Channel</h2>
<p>Channel的本质是一个固定长度的队列, 它的类型关键词是<code>chan type</code>, 其中<code>type</code>可以是<code>int</code>或者<code>struct{}</code>这种数据类型.</p>
<ul>
<li>Channel可以使用<code>make</code>创建:</li>
</ul>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// 创建一个管道, 里面元素是bool类型, 大小是3</span><br>ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-type">bool</span>, <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure>
<ul>
<li>
<p>写Channel, 可以使用: <code>ch&lt;-你要写的元素</code></p>
<ul>
<li>注意: <font color="green">当你向Channel中写入元素后, 如果这个Channel原始为空, 那么它会唤醒所有等待这个Channel读取的协程, 相当于内置实现了生产者-消费者算法</font>.</li>
</ul>
</li>
<li>
<p>读Channel, 可以使用<code>&lt;-ch</code>.</p>
<ul>
<li>
<p>注意1: <code>&lt;-ch</code>这个整体是一个表达式, 这个整体就代表从Channel中读取的队头元素.</p>
</li>
<li>
<p>注意2:  此时需要处理异常:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go">a, ok := &lt;-ch<br><span class="hljs-comment">// 当且仅当ch被close, 并且ch为空时, ok才是false, 此时需要处理异常</span><br></code></pre></td></tr></table></figure>
</li>
<li>
<p>注意3: 当使用<code>&lt;-ch</code>后, <font color="green">如果<code>ch</code>为空, 那么该协程会被阻塞, 直到有协程写入.</font></p>
</li>
</ul>
</li>
<li>
<p>关闭Channel可以使用: <code>close(ch)</code>, 注意: <font color="red">关闭Channel仅代表不可以向Channel中写入元素, 但是还可以读取</font>.</p>
</li>
</ul>
<h3 id="使用Channel实现主协程等待子协程"><a href="#使用Channel实现主协程等待子协程" class="headerlink" title="使用Channel实现主协程等待子协程"></a>使用Channel实现主协程等待子协程</h3>
<p>借助Channel可以阻塞协程的特性, 可以实现主协程等待一个子协程:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>  <br>  <span class="hljs-comment">/* 1. 创建一个没有buffer的Channel */</span><br>  ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>&#123;&#125;, <span class="hljs-number">0</span>)<br>  <br>  <span class="hljs-comment">/* 一个子协程 */</span><br>  <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>    <span class="hljs-comment">/* 协程代码 */</span><br>    <br>    <span class="hljs-comment">/* 3. 需要被等待的子协程再结束后写入Channel, 唤醒main协程 */</span><br>    <span class="hljs-keyword">defer</span> ch&lt;-<span class="hljs-keyword">struct</span>&#123;&#125;&#123;&#125;<br>  &#125;<br>  <br>  <span class="hljs-comment">/* 2. 读取Channel, 由于Channel容量为0, main协程会被阻塞 */</span><br>  &lt;-ch<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>为什么Channel的数据类型是<code>struct{}</code> ?</p>
</blockquote>
<p>因为<code>struct{}</code>这种类型在创建实例<code>struct{}{}</code>时, 并不实际占用内存.</p>
<blockquote>
<p>什么是没有Buffer的Channel</p>
</blockquote>
<p>如果使用<code>ch := make(chan struct{}, 0)</code>或者<code>ch := make(chan struct{})</code>创建一个Channel, 那么这个Channel就是没有Buffer的, 此时, <font color="red">向这个Channel中读/写元素都会导致Channel被阻塞.</font></p>
<p><font color="purple">因此, 借助这个思路, 对于每一个协程之间的先后关系, 都可以通过一个容量为0的Channel进行实现.</font></p>
<h2 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h2>
<h3 id="例子1"><a href="#例子1" class="headerlink" title="例子1"></a>例子1</h3>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	<br>	ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>&#123;&#125;, <span class="hljs-number">0</span>)<br><br>	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>		<span class="hljs-comment">/* 向没有Buffer的Channel写入会阻塞协程 */</span><br>		ch &lt;- <span class="hljs-keyword">struct</span>&#123;&#125;&#123;&#125;<br>		fmt.Println(<span class="hljs-string">&quot;Hello&quot;</span>)<br>	&#125;()<br>	<span class="hljs-comment">/* main协程也会被阻塞 */</span><br>	ch &lt;- <span class="hljs-keyword">struct</span>&#123;&#125;&#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>在这个例子中, 子协程和main协程都会被永远阻塞, go语言会爆出deadlock的运行时异常.</p>
<h3 id="例子2"><a href="#例子2" class="headerlink" title="例子2"></a>例子2</h3>
<figure class="highlight go"><table><tr><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br>	<span class="hljs-string">&quot;fmt&quot;</span><br>	<span class="hljs-string">&quot;time&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br>	<br>	ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>&#123;&#125;, <span class="hljs-number">0</span>)<br><br>	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>		<span class="hljs-comment">/* 向没有Buffer的Channel写入会阻塞协程 */</span><br>		ch &lt;- <span class="hljs-keyword">struct</span>&#123;&#125;&#123;&#125;<br>		fmt.Println(<span class="hljs-string">&quot;Hello&quot;</span>)<br>	&#125;()<br><br>	<span class="hljs-comment">/* 增加一个子协程 */</span><br>	<span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>		time.Sleep(<span class="hljs-number">1</span> * time.Hour)<br>	&#125;()<br><br>	<span class="hljs-comment">/* main协程也会被阻塞 */</span><br>	ch &lt;- <span class="hljs-keyword">struct</span>&#123;&#125;&#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>这个例子在上面的基础上增加了一个休眠1小时的子协程, 运行这个代码, go语言居然就不会爆deadlock的Error了.</p>
<p>这是因为: 增加一个子协程后, 在运行时子协程休眠了, 但是Go语言不知道它后面会执行什么代码, 有可能要执行的代码会帮助解除main协程或前面协程的阻塞, 因此是有希望不出现deadlock的, 所以go语言没有爆deadlock.</p>
<p>因此:</p>
<p><font color="purple">如果Go代码没有爆deadlock, 不代表它真的没有deadlock, Go语言会假设现在还没有结束的协程可能会帮助解决deadlock, 因此要注意代码逻辑.</font></p>

      
       <hr><span style="font-style: italic;color: gray;"> 向阳而生, 喜欢聪明的人. </span>
    </div>
</article>







    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©B1ueDrops
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
